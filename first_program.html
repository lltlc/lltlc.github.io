

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="zh-CN" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="zh-CN" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>第二章：你的第一个程序 &mdash; 通过学习编程学习学习 0.1 文档</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="索引"
              href="genindex.html"/>
        <link rel="search" title="搜索" href="search.html"/>
    <link rel="top" title="通过学习编程学习学习 0.1 文档" href="index.html"/>
        <link rel="next" title="第三章：真正搞定一本教科书" href="dive_deep_into_a_textbook.html"/>
        <link rel="prev" title="第一章：准备工作" href="setting_up.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> 通过学习编程学习学习
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">目录</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="setting_up.html">第一章：准备工作</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">第二章：你的第一个程序</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id2">1. π 这个数字很好玩</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">2. 编辑并运行一个程序</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">3. 程序员的编辑器都是很智能的……</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id6">4. 有个拦路虎叫“英语”</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id7">5. 好像突然间就读懂了……</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id9">6. 换个方法估算 π ？</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="dive_deep_into_a_textbook.html">第三章：真正搞定一本教科书</a></li>
<li class="toctree-l1"><a class="reference internal" href="appendix_sphinx_tutorial.html">附录：如何使用 Sphinx-doc 写书？</a></li>
<li class="toctree-l1"><a class="reference internal" href="editors_and_ides/sublimetext.html">附录：SublimeText 编辑器</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">通过学习编程学习学习</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>第二章：你的第一个程序</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/first_program.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="id1">
<h1>第二章：你的第一个程序<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<p>放心，你的第一个程序肯定不是那个著名的“Hello World!”…… 那个实在是太不好玩了。</p>
<div class="section" id="id2">
<h2>1. π 这个数字很好玩<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<p>π 被定义为标准圆的周长和直径的比例： <span class="math">\(\pi = \frac{C}{d}\)</span> ……</p>
<a class="reference external image-reference" href="https://en.wikipedia.org/wiki/Pi#/media/File:Pi_eq_C_over_d.svg"><img alt="_images/600px-Pi_eq_C_over_d.svg.png" class="align-center" src="_images/600px-Pi_eq_C_over_d.svg.png" style="width: 256px;" /></a>
<p>可问题它的数值究竟是什么呢？人类为此努力了几千年呢！公元 480 年前后，中国的祖冲之给出一个估算： <span class="math">\(\frac{22}{7} &lt; \pi &lt; \frac{355}{113}\)</span>，即， <cite>3.1415926</cite> &lt; π &lt; <cite>3.1415927</cite>。有人觉得祖冲之没什么了不起，因为他相当于是用在他大约两百年前的刘徽得出 <span class="math">\(π ≈ \frac{157}{50}\)</span> 的方法接着“死算”出来的…… 可说实话，在没有计算机、计算器的年代，死算绝对是功夫啊！</p>
<p>你可以在 Python 命令行里输入试试：</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>$ python
&gt;&gt;&gt; 355/113
3.1415929203539825
&gt;&gt;&gt; 22/7
3.142857142857143
</pre></div>
</div>
<div class="sidebar">
<p class="first sidebar-title">如何在键盘上敲出 π ？</p>
<p class="last">有快捷键： ⌥ + p ；你还可以按着 ⌥ 把其它 26 个字母都试一下？</p>
</div>
<p>有空的话可以到 Google 一下 <a class="reference external" href="https://www.google.com/search?q=history+of+π">history of π</a> （哈，必须有空！）—— 挺有意思的。十八世纪，德国数学家戈特弗里德·莱布尼茨（ <a class="reference external" href="https://baike.baidu.com/item/戈特弗里德·威廉·莱布尼茨/5028927">Gottfried Wilhelm Leibniz，1646.7.1－1716.11.14</a> ） 提出一个另外一个可以通过“死算”去无限接近 π 的算法，倒是很适合拿来作为编程教学的例子：</p>
<div class="math">
\[\frac{\pi}{4} = \frac{1}{1} - \frac{1}{3} + \frac{1}{5}- \frac{1}{7} ...\]</div>
<p>按照这个算法，大抵上要算上 10,000 项，才有小数点后 3 位精确（<code class="docutils literal"><span class="pre">3.141\49...</span></code>）…… 于是，想要更精确的结果，是绝对没办法通过手工计算完成的，而且中间若是出错，甚至都难以想象应该如何检查。而这样的时候，就是我们需要计算机的时候：告诉它怎么做，然后重复甚至无数次，直至得到我们满意的结果 —— 某种意义上，计算机从一开始就是被设计来做这种事情的 —— 并且，最好的是：它不会出错！</p>
</div>
<div class="section" id="id3">
<h2>2. 编辑并运行一个程序<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h2>
<p>现在开始动手，尝试编辑一下你的第一个程序罢 —— 虽然你有可能完全看不懂……</p>
<p>用 Terminal 给自己创建一个工作目录：</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="o">~/</span><span class="n">code</span><span class="o">/</span><span class="n">python</span>
<span class="n">cd</span> <span class="o">~/</span><span class="n">code</span><span class="o">/</span><span class="n">python</span>
</pre></div>
</div>
<p>然后用 PyCharm 打开这个目录（注意末尾的那个点`.`）：</p>
<div class="code bash highlight-default"><div class="highlight"><pre><span></span>$ charm .
</pre></div>
</div>
<p>在 PyCharm 中通过快捷键 <code class="docutils literal"><span class="pre">⌘n</span></code> 创建一个新文件，<cite>computing_pi.py</cite> 并保存，输入以下内容，注意，不许拷贝粘贴！</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Computing π with Leibniz&#39;s formula</span>
<span class="n">pi</span><span class="p">,</span> <span class="n">sign</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
<span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;We&#39;ll caculate 10**n terms...</span><span class="se">\n</span><span class="s2">Please specify n:&quot;</span><span class="p">))</span>
<span class="n">terms</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">**</span> <span class="n">n</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">terms</span> <span class="o">*</span> <span class="mi">2</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">i</span><span class="o">/</span><span class="mi">2</span> <span class="o">!=</span> <span class="nb">int</span><span class="p">(</span><span class="n">i</span><span class="o">/</span><span class="mi">2</span><span class="p">):</span>
        <span class="n">pi</span> <span class="o">=</span> <span class="n">pi</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">sign</span> <span class="o">/</span> <span class="n">i</span>
        <span class="k">print</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
        <span class="n">sign</span> <span class="o">=</span> <span class="n">sign</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
<p>这只是一个“演示”程序，所以它很“初级”，比如，程序执行之后，当你被要求输入数字的时候，若是你输入了一个字母，它没有错误处理，直接报错；再比如，我们没用 <cite>pi += 4 * sign / i</cite> 这样用 <code class="docutils literal"><span class="pre">+=</span></code> 的“高级用法”。现在，这并不重要，重要的是，你大概知道程序这东西究竟是怎么回事儿了。</p>
<p>如果你的输入没有任何错误的话（第一次通常不太可能），那么就可以通过快捷键 <code class="docutils literal"><span class="pre">⌃</span> <span class="pre">⌥</span> <span class="pre">r</span></code> 运行这个程序了。它会要求你输入一个数字（你就输入 1~6 之间的整数就行），而后给你一个运算结果 —— 比如，你输入的数字是 <cite>6</cite>，那么，程序总计大约运算了 1,000,000 个项（10 <sup>6</sup>），而你会看到的结果大概是：</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>4.0
2.666666666666667
3.466666666666667
...
3.141593653594774
3.141591653585774
3.141593653592774
3.141591653587774
3.1415936535907742
3.1415916535897743
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h2>3. 程序员的编辑器都是很智能的……<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h2>
<p>在计算机上输入各种字符，事实上是很不容易的。并且，写程序又不是写文章，有几个错别字无所谓，反正读文章的是人，他们看得懂，猜的出…… 写程序不行，错一个字符都不行。并且，还有那么多的规矩，比如，在 Python 里，行首的“缩进”是有意义的，再比如，有些语句末尾要加上冒号 <code class="docutils literal"><span class="pre">:</span></code>，否则就会报错…… 所以，程序员所使用的编辑器（无论是哪一种，Vi、Emacs、SublimeText 等等），包括 PyCharm，都有很多帮助程序员方便输入编辑程序的功能。</p>
<p>比如，比如，当你用选中 <cite>We’ll caculate 10**n terms…nPlease specify n:</cite> 这样一串支付之后，按一次 <code class="docutils literal"><span class="pre">&quot;</span></code>，你就会发现，在字符串两端都加上了引号。</p>
<p>再比如，你可能已经注意到了，在 PyCharm 编辑器里，当你输入左括号 <code class="docutils literal"><span class="pre">(</span></code> 的时候，它会自动补足对应的右括号，而后变成 <code class="docutils literal"><span class="pre">()</span></code>。等你在括号里输入了一些字符之后，如果你觉得把手移开而后去按 <code class="docutils literal"><span class="pre">→</span></code> 键很麻烦的话（因为右手离开了键盘的主位，一会儿还要重新移过来），那么你可以使用快捷键 <code class="docutils literal"><span class="pre">⌃</span> <span class="pre">f</span></code>，这个快捷键相当于 <code class="docutils literal"><span class="pre">→</span></code>……（这个快捷键可以在 <cite>Preference &gt; Keymap</cite> 里通过搜索 ‘Right’ 找到。）</p>
<p>又比如，当你输入 <cite>for i in range(terms * 2)</cite> 之后，按一下 <code class="docutils literal"><span class="pre">⇧</span> <span class="pre">⏎</span></code> 组合键，你会发现行末自动加上了一个冒号 <code class="docutils literal"><span class="pre">:</span></code>；如果是在一个不需要末尾添加冒号的语句中按 <code class="docutils literal"><span class="pre">⇧</span> <span class="pre">⏎</span></code>，光标就挪到下一行，且不添加冒号……</p>
<p>再试试这个：你把光标移动到 <cite>for</cite> 这个词之中，而后按 <code class="docutils literal"><span class="pre">F1</span></code> （根据你的系统设置，很可能你需要按的键是 <code class="docutils literal"><span class="pre">fn</span> <span class="pre">F1</span></code> ），你会看到关于 <cite>for</cite> 的帮助文档：</p>
<img alt="_images/for-help-fn-f1.png" src="_images/for-help-fn-f1.png" />
<div class="sidebar">
<p class="first sidebar-title">Google 一下？</p>
<p class="last">你真应该去 Google 一下 “<a class="reference external" href="https://www.google.com/search?q=pycharm+cheatsheet">pycharm cheatsheet</a> “……</p>
</div>
<p>也许你想去 Google 一下“Pycharm Tutorial”，这当然是对的，不过，在任何时候，最值得先去通读的，肯定是官方文档。Jetbrains 当然会提供 <a class="reference external" href="https://www.jetbrains.com/help/pycharm/quick-start-guide.html">官方帮助文档</a> ，去看看好了。送你两个字：<strong>通读</strong>。只要养成了“<strong>闲着没事儿就通读官方文档</strong>”的好习惯，你已经打败 90% 的人了 —— 绝不夸张。若是再养成“张嘴问之前先去 Google”一下，你绝对已经打败了 99% 的人 —— 真是太夸张了！</p>
</div>
<div class="section" id="id6">
<h2>4. 有个拦路虎叫“英语”<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h2>
<p>这个拦路虎拦住了绝大多数人，可是它不应该能够拦住你 —— 你要是被他拦住了，你就亏死了。当然，那些被拦住的人，从来都没有机会知道他们其实根本就不应该被拦住的，更不会有机会知道自己究竟吃了多大的亏？</p>
<p>其实，送你一句话就可以了：<code class="docutils literal"><span class="pre">硬着头皮读下去……</span> <span class="pre">早晚会适应。</span></code></p>
<p>就这么简单？就这么简单！</p>
<p>许多年前，我想明白一个道理，“只学不用”是绝大多数人终生学渣的根本原因，天天“学”，却从来不用！真的很诡异，不是吗？我还专门写过一本书来说明这个道理，叫做《人人都能用英语》，免费放在网上。再后来，又过了许多年，我又想明白另外一个重要的道理 —— 那些能学会的，没人教也能学会，那些学不会的，无论上过多少课都依然不会，为什么呢？</p>
<div class="sidebar">
<p class="first sidebar-title">会与不会差在那里？</p>
<p class="last">那些会的人，做的不好也接着做，慢慢就好起来了……</p>
</div>
<p>道理很简单：</p>
<blockquote>
<div><strong>那些学会的人从来没觉得自己学不会……</strong></div></blockquote>
<p>以上这句话，可能需要你反复揣摩，不断反思自己在学习过程中的细微闪念。</p>
<p>我们其实习得过很多非常复杂的技能。比如，中文。平心而论，中文比英文复杂太多了，并且相对格外含混，可你学会了啊！为什么中文都能学会，英文却死活不能？根本原因就是你从一开始就觉得英文是“很难的！”是“我根本学不会的！” —— 完了，因此你是绝对学不会、学不好的。</p>
<p>不管你想学什么，你都要像是小孩子学自行车、小孩子学说话一样，从来不去想“自己能不能学会？”“自己做的好不好？” 而是，不管三七二十一就开始弄，骑自行车摔了，就摔了呗？爬起来接着骑！说话没说对，被别人嘲笑了，那又如何？接着说呗！</p>
<p>不就是读个英文文档么？读不懂又怎样？查查词典接着读呗！哦，对了，在 Mac 上，选中一个词之后，用三个指头点一下触摸板，就可以呼出字典的解释。也可以在系统设置里，为查找词典设置自定义快捷键：</p>
<img alt="_images/system-preference-dictionary-shortcut.png" src="_images/system-preference-dictionary-shortcut.png" />
<p>再说，读懂计算机类的文档，其实很简单的，所用词汇量也并不多，只不过刚开始的时候不适应而已。另外，绝对不要相信“语言天分”那一说，这东西就算有，影响的也不是通读计算机类英文文档这种活动，放心好了。</p>
</div>
<div class="section" id="id7">
<h2>5. 好像突然间就读懂了……<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h2>
<p>别说英语，程序语言也是一样的。你把上面的那段程序反复输入很多次试试看？一次性输入正确，运行无误，之后，删掉，重新来过，重复很多遍……</p>
<p>感觉上，这么做挺傻的。那怎么办？可以在阅读 Pycharm <a class="reference external" href="https://www.jetbrains.com/help/pycharm/quick-start-guide.html">官方帮助文档</a> 的时候，不断把自己学到的编辑器使用技巧应用起来，拿以上的那段程序当作用来练手的材料。可以先把注意力放在“学会使用 Pycharm 编辑器”之上，虽然你还是不得不被动地反复阅读那一段代码。</p>
<p>几遍之后，你好像能自动明白了 <code class="docutils literal"><span class="pre">sign</span> <span class="pre">=</span> <span class="pre">sign</span> <span class="pre">*</span> <span class="pre">-1</span></code> 究竟是什么意思？不妨实验一下么：写个程序验证一下自己的想法</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">sign</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="n">sign</span><span class="p">)</span>
<span class="n">sign</span> <span class="o">=</span> <span class="n">sign</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="n">sign</span><span class="p">)</span>
<span class="n">sign</span> <span class="o">=</span> <span class="n">sign</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span>
<span class="k">print</span><span class="p">(</span><span class="n">sign</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<div class="highlight-text"><div class="highlight"><pre><span></span>1
-1
1
-1
</pre></div>
</div>
<div class="sidebar">
<p class="first sidebar-title">不适应才是正常的！</p>
<p class="last">这就是在学习新东西的过程。在一个新的领域里，正因为原有的“知识”或者“理解”并不适用，所以才要学“新”的知识……</p>
</div>
<p>当你第一次看到 <code class="docutils literal"><span class="pre">sign</span> <span class="pre">=</span> <span class="pre">sign</span> <span class="pre">*</span> <span class="pre">-1</span></code> 的时候，你脑子里调用的是你已有的知识（代数），然后就觉得这事儿不合理，因为它用你脑子里已有的理解来看，不合理，因为 <code class="docutils literal"><span class="pre">sign</span> <span class="pre">=</span> <span class="pre">sign</span> <span class="pre">*</span> <span class="pre">-1</span></code> 就相当于是 <code class="docutils literal"><span class="pre">0</span> <span class="pre">=</span> <span class="pre">1</span></code>，这怎么回事儿嘛！</p>
<p>在编程语言里，<code class="docutils literal"><span class="pre">=</span></code> 是个操作符，功用是“<strong>赋值</strong>”，你可以这样理解它：</p>
<blockquote>
<div>它会让 <code class="docutils literal"><span class="pre">=</span></code> 左边的变量值变成 <code class="docutils literal"><span class="pre">=</span></code> 右边的计算结果，而 <code class="docutils literal"><span class="pre">=</span></code> 右边出现的变量的值，都是该变量在此之前所保存的值。</div></blockquote>
<p>所以，第 3 行相当于: <code class="docutils literal"><span class="pre">sign</span> <span class="pre">=</span> <span class="pre">1</span> <span class="pre">*</span> <span class="pre">-1</span></code>，因为在此之前，<code class="docutils literal"><span class="pre">sign</span> <span class="pre">=</span> <span class="pre">1</span></code>，于是第 3 行执行过后，<code class="docutils literal"><span class="pre">sign</span> <span class="pre">=</span> <span class="pre">-1</span></code>；而第 5 行相当于 <code class="docutils literal"><span class="pre">sign</span> <span class="pre">=</span> <span class="pre">-1</span> <span class="pre">*</span> <span class="pre">-1</span></code>，因为再次之前，<code class="docutils literal"><span class="pre">sign</span> <span class="pre">=</span> <span class="pre">-1</span></code>，于是，在此之后，<code class="docutils literal"><span class="pre">sign</span> <span class="pre">=</span> <span class="pre">1</span></code>。</p>
<p>你想知道 <code class="docutils literal"><span class="pre">for</span> <span class="pre">..</span> <span class="pre">in</span> <span class="pre">range(...)</span></code> 是怎么回事儿？</p>
<p>自己写段代码试试呗？</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>再试试：</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>再试试：</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>若是你已经能看懂了的话，估计你会尝试着把程序改成这个样子：</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="c1"># Computing π with Leibniz&#39;s formula</span>
<span class="n">pi</span><span class="p">,</span> <span class="n">sign</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span>
<span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s2">&quot;We&#39;ll caculate 10**n terms...</span><span class="se">\n</span><span class="s2">Please specify n:&quot;</span><span class="p">))</span>
<span class="n">terms</span> <span class="o">=</span> <span class="mi">10</span> <span class="o">**</span> <span class="n">n</span>
<span class="hll"><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">terms</span> <span class="o">*</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">):</span>
</span>    <span class="n">pi</span> <span class="o">=</span> <span class="n">pi</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">sign</span> <span class="o">/</span> <span class="n">i</span>
    <span class="k">print</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
    <span class="n">sign</span> <span class="o">=</span> <span class="n">sign</span> <span class="o">*</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
</div>
<div class="section" id="id9">
<h2>6. 换个方法估算 π ？<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h2>
<p>还有个估算 π 的算法，叫做 <strong>The Wallis Product</strong>:</p>
<div class="math">
\[\frac{\pi}{2} = \prod_{n=1}^{\infty}(\frac{2n}{2n - 1} \dot\ \frac{2n}{2n + 1}) = \frac{2}{1} \times \frac{2}{3} \times \frac{4}{3} \times \frac{4}{5} \times \frac{6}{5} \times ...\]</div>
<p>估计下面这个程序你很容易看懂了：</p>
<div class="highlight-default"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Computing π with the Wallis product</span>
<span class="n">pi</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">n</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;How many product terms? &#39;</span><span class="p">))</span>
<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">n</span><span class="p">):</span>
    <span class="n">pi</span> <span class="o">*=</span> <span class="mi">4</span> <span class="o">*</span> <span class="n">j</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">/</span> <span class="p">(</span><span class="mi">4</span> <span class="o">*</span> <span class="n">j</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
<span class="n">pi</span> <span class="o">*=</span> <span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">pi</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>有疑问也不要怕，反正你刚刚开始…… 在看到前一小节的标题“好像突然之间就懂了”的时候，若是你真的还没有懂，也不要“自卑”，这很正常，真的是因为你重复的次数不够多的缘故而已。“读书千遍其义自见” —— 这真不是说着玩儿的！</p>
<img alt="_images/pi.jpg" class="align-center" src="_images/pi.jpg" />
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="dive_deep_into_a_textbook.html" class="btn btn-neutral float-right" title="第三章：真正搞定一本教科书" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="setting_up.html" class="btn btn-neutral" title="第一章：准备工作" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, 李笑来.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1',
            LANGUAGE:'zh_CN',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>